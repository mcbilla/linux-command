less
===

分屏上下翻页浏览文件内容

## 补充说明

less 与 more 类似，都支持翻页浏览文档。但是 less 比 more 的功能更强大，less 可以随意浏览文件，支持翻页和搜索，支持向上翻页和向下翻页。less is more。
less 和 more 的区别：

* more不能通过上下方向键控制显示，而且不能后退。less可以按键盘上下方向键显示上下内容
* less不必读整个文件，加载速度会比more更快
* less退出后shell不会留下刚显示的内容，而more退出后会在shell上留下刚显示的内容

## 适用的Linux版本

less命令是一个通用的Linux工具，它可以在大多数Linux发行版中使用。如果你的系统没有安装less命令，你可以使用以下命令来安装它：

- Debian/Ubuntu

```shell
$ sudo apt install less
```

- Red Hat/CentOS

```shell
$ sudo yum install less
```

- Arch Linux

```shell
$ sudo pacman -S less
```

##  命令语法

```shell
less [options] [file]
```

##  选项

```shell
-b <缓冲区大小> 设置缓冲区的大小
-e 当文件显示结束后，自动离开
-f 强迫打开特殊文件，例如外围设备代号、目录和二进制文件
-g 只标志最后搜索的关键词
-i 忽略搜索时的大小写
-m 显示类似 more 命令的百分比
-N 显示每行的行号
-o <文件名> 将less 输出的内容在指定文件中保存起来
-Q 不使用警告音
-s 显示连续空行为一行
-S 行过长时间将超出部分舍弃
-x <数字> 将tab键显示为规定的数字空格
```

## 命令

### 1、翻页/翻行

| 操作     | 含义                         |
| -------- | ---------------------------- |
| f        | 前进一页                     |
| b/空格键 | 后退一页                     |
| d        | 前进半页                     |
| u        | 后退半页                     |
| j/回车键 | 前进一行                     |
| k/y      | 后退一行                     |
| g        | 回到第一行                   |
| G        | 移动到最后一行               |
| q/ZZ     | 退出 less 命令               |
| h        | 显示帮助界面                 |
| v        | 使用配置的编辑器编辑当前文件 |

### 2、查找

| 操作    | 含义                                 |
| ------- | ------------------------------------ |
| /字符串 | 向下搜索"字符串"的功能               |
| ?字符串 | 向上搜索"字符串"的功能               |
| n       | 重复前一个搜索（与 / 或 ? 有关）     |
| N       | 反向重复前一个搜索（与 / 或 ? 有关） |

### 3、标记

可以在任何一个位置作标记，可以先使用命令`m`标记，然后使用`'`导航到标有特定标记的文本位置

* `ma`：使用 a 标记文本的当前位置
* `'a`：导航到标记 a 处

## 示例

### 查看文件内容

要查看一个文件的内容，只需将文件名作为参数传递给 less 命令即可。例如：

```shell
$ less /etc/passwd
```

这将打开/etc/passwd 文件，并显示第一屏的内容。你可以使用方向键或空格键来向上或向下滚动。要退出less命令，按q键。

### 从标准输入读取数据

如果没有指定文件名，less命令将从标准输入读取数据。这意味着你可以使用管道符（|）将其他命令的输出传递给less命令。例如：

```shell
$ ls -l /usr/bin | less
```

这将列出 /usr/bin 目录下的所有文件，并使用 less 命令分页显示。

### 搜索文本

在less命令中，你可以使用/或?来搜索文本。/表示向前搜索，?表示向后搜索。输入搜索关键词后，按回车键开始搜索。如果找到匹配项，它将被高亮显示。你可以使用n或N来跳转到下一个或上一个匹配项。例如：

```shell
$ less /etc/passwd
/bin/bash
```

这将在/etc/passwd文件中搜索/bin/bash字符串，并高亮显示第一个匹配项。按n键将跳转到下一个匹配项。

### 跳转到指定位置

在less命令中，你可以使用一些快捷键来跳转到文件的指定位置。例如：

- g或<：跳转到文件的开头
- G或>：跳转到文件的结尾
- 50g或50G：跳转到文件的第50行
- 50%：跳转到文件的中间位置
- /pattern：跳转到第一个匹配pattern的位置

### 执行外部命令

在less命令中，你可以使用!来执行外部命令。例如：

```shell
$ less /etc/passwd
!date
```

这将在less命令中执行date命令，并显示当前的日期和时间。要返回到less命令，按回车键。

## less命令的注意事项

* less命令不会修改文件内容，它只是用于查看和搜索。
* less命令可以处理二进制文件，但是输出可能不可读。
* less命令可以使用环境变量LESS来设置默认的选项和行为。
